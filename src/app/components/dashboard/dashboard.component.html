<div class="task-form">
  <mat-form-field appearance="fill">
    <mat-label>Task Title</mat-label>
    <input matInput [(ngModel)]="taskTitle">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Task Description</mat-label>
    <input matInput [(ngModel)]="taskDescription">
  </mat-form-field>

  <button mat-raised-button color="primary" (click)="addTask()">Add Task</button>
</div>

<div class="kanban-board" cdkDropListGroup>
  @for (column of columns; track column.name) {
       
      <!-- Ensure cdkDropList is bound correctly -->
      <div
      cdkDropList
      [cdkDropListData]="column.tasks"
      (cdkDropListDropped)="drop($event, column.name)"
      class="column"
      > 
        <h3>{{ column.name }}</h3>
        @for (task of column.tasks; track task) {
          <div
          cdkDrag
          [cdkDragData]="task"
          class="task-card"
          [attr.data-id]="task.id"
        >
          <h4>{{ task.title }}</h4>
          <p>{{ task.description }}</p>
          <small>{{ task.createdAt | date:'short' }}</small>
        </div>
        }      
      </div>
  }
</div>
